{% extends "base.html" %} {% block content %}
<h2>User Profile</h2>
<div>
  <h3>User Information</h3>
  <p><strong>Username:</strong> {{ user.username }}</p>
  <p><strong>Email:</strong> {{ user.email }}</p>
  <p><strong>Member since:</strong> {{ user.created_at }}</p>
</div>

<div>
  <h3>Roles</h3>
  {% if roles %}
  <ul>
    {% for role in roles %}
    <li>{{ role.name }}</li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No roles assigned.</p>
  {% endif %}
</div>

<div>
  <h3>Permissions</h3>
  {% if permissions %}
  <ul>
    {% for permission in permissions %}
    <li>{{ permission.name }}</li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No permissions assigned.</p>
  {% endif %}
</div>

<div>
  <h3>Genre Preferences</h3>
  {% if preferences %}
  <ul>
    {% for pref in preferences %}
    <li>{{ pref.name }}</li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No genre preferences set.</p>
  {% endif %}
  <p>
    <a href="{{ url_for('auth.manage_preferences') }}">Manage Preferences</a>
  </p>
</div>

{% if is_admin %}
<div>
  <h3>Admin Actions</h3>
  <p>
    <a href="{{ url_for('auth.audit_logs') }}">View Audit Logs</a>
  </p>
</div>
{% endif %}
{% endblock %}
